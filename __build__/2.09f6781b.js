webpackJsonp([2],{13:function(o,t,e){"use strict";function a(o){return o&&o.__esModule?o:{"default":o}}function n(o,t){return r["default"].Promise(function(e,a){$.ajax({type:"GET",url:"http://apis.baidu.com/tngou/cook/list",data:{id:o,page:t},headers:{apikey:"a369f43a6392605426433831e10765ec"},success:function(n){if(n.status){if(1==t)localStorage.setItem("cookbook_list_"+o,JSON.stringify({id:o,updateTime:(new Date).getTime(),page:2,cookbookItems:n.tngou,maxItems:n.total}));else{for(var i=JSON.parse(localStorage.getItem("cookbook_list_"+o)),c=0;c<n.tngou.length;c++)i.cookbookItems.push(n.tngou[c]);i.page=++t,i.maxItems=n.total,localStorage.setItem("cookbook_list_"+o,JSON.stringify(i))}e(n)}else a("请求失败")},error:function(o){a("请求失败")}})})}function i(){return r["default"].Promise(function(o,t){var e=$.localStorage.getItem("cookbook_classes");e?o(e):$.ajax({type:"GET",url:"http://apis.baidu.com/tngou/cook/classify",data:{id:0},headers:{apikey:"a369f43a6392605426433831e10765ec"},success:function(e){e.status?(localStorage.setItem("cookbook_classes",JSON.stringify(e.tngou)),o(e)):t("请求失败!")},error:function(o,e){t("请求失败")}})})}function c(o){return r["default"].Promise(function(t,e){$.ajax({type:"GET",url:"http://apis.baidu.com/tngou/cook/show",data:{id:o},headers:{apikey:"a369f43a6392605426433831e10765ec"},success:function(o){o.status?t(o):e("请求失败")},error:function(o,t){e("请求失败")}})})}Object.defineProperty(t,"__esModule",{value:!0});var s=e(11),r=a(s),u={getCookbookList:n,getCookbookClass:i,getCookbookDetail:c};t["default"]=u},14:function(o,t,e){"use strict";function a(o){return o&&o.__esModule?o:{"default":o}}Object.defineProperty(t,"__esModule",{value:!0});var n=e(2),i=a(n),c=e(15),s=a(c),r=e(13),u=a(r),l=i["default"].extend({template:s["default"],ready:function(){},data:function(){return{cookbookDetail:{img:""}}},methods:{goBack:function(){try{var o=this.$route.router._currentTransition.from;"undefined"!=typeof o.path?this.$router.go(o.path):this.$router.go("cookbook/1")}catch(t){this.$router.go("cookbook/1")}}},route:{data:function(o){var t=this;if(window.cm_cookbookDetail&&window.cm_cookbookDetail.id==o.to.params.id)this.$data={cookbookDetail:window.cm_cookbookDetail},o.next();else{var e=o.to.params.id;$.showIndicator(),u["default"].getCookbookDetail(e).then(function(e){e.status?(t.$data={cookbookDetail:e},o.next()):o.abort()})["catch"](function(){o.abort()})["finally"](function(){$.hideIndicator()})}}}});t["default"]=l},15:function(o,t){o.exports='<div class="page page-current">\n    <!-- 标题栏 -->\n    <header class="bar bar-nav">\n        <a class="icon icon-left pull-left " @click="goBack()"></a>\n        <h1 class="title">{{cookbookDetail.name}}</h1>\n    </header>\n\n    <!-- 这里是页面内容区 -->\n    <div class="content">\n        <div class="content-padded">\n            <p style="text-align: center;"><img v-if="cookbookDetail.img!=\'\'" :src="\'http://tnfs.tngou.net/img\'+cookbookDetail.img"></p>\n            {{{cookbookDetail.message}}}\n        </div>\n    </div>\n</div>'}});
//# sourceMappingURL=2.09f6781b.js.map